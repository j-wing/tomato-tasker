(this["webpackJsonptomato-tasker"]=this["webpackJsonptomato-tasker"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),s=a.n(r),o=(a(14),a(1)),u=a(2),c=a(4),l=a(3),m=a(5),h=a(6),f=a.n(h),k=(a(16),a(17),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"task-item"},i.a.createElement("div",{className:"task-id"},this.props.task.taskNum+1),i.a.createElement("textarea",{className:"before",placeholder:"Before",defaultValue:this.props.task.before,onChange:this.props.beforeChangeHandler}),i.a.createElement("textarea",{className:"after",placeholder:"After",defaultValue:this.props.task.after,onChange:this.props.afterChangeHandler}))}}]),t}(i.a.Component)),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).timer=null,a.state={timerValue:1500,timerRunning:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.timerRunning?"Pause":"Start";return i.a.createElement("div",{className:"timer"},i.a.createElement("div",{className:"timerText"},Math.floor(this.state.timerValue/60),":",this.state.timerValue%60),i.a.createElement("button",{onClick:this.toggleRunning.bind(this)},e),i.a.createElement("button",{onClick:this.reset.bind(this)},"+ New"))}},{key:"toggleRunning",value:function(){this.setState((function(e){return{timerRunning:!e.timerRunning}}))}},{key:"componentDidUpdate",value:function(e,t){this.state.timerRunning&&!t.timerRunning?this.kickOffTimer():!this.state.timerRunning&&t.timerRunning&&null!==this.timer&&clearTimeout(this.timer),0===this.state.timerValue&&0!==t.timerValue&&new Notification("Pomo Timer Finished!")}},{key:"reset",value:function(){this.setState({timerRunning:!1,timerValue:1500}),this.props.resetHandler()}},{key:"kickOffTimer",value:function(){var e=this;0!==this.state.timerValue&&(this.timer=setTimeout((function(){e.setState((function(e){return{timerValue:e.timerValue-1}})),e.kickOffTimer()}),1e3))}}]),t}(i.a.Component),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).checkNotificationPermission(),a.state={taskItems:[{before:"",after:"",taskNum:0}]},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.taskItems.flatMap((function(t,a){return i.a.createElement(k,{task:t,key:t.taskNum,beforeChangeHandler:function(t){return e.handleBeforeChange(a,t)},afterChangeHandler:function(t){return e.handleAfterChange(a,t)}})}));return i.a.createElement("div",{className:"app"},i.a.createElement(d,{resetHandler:this.handleReset.bind(this)}),i.a.createElement("div",{className:"items"},t),'"')}},{key:"handleBeforeChange",value:function(e,t){var a=this,n=t.target.value;this.setState((function(t){var i=f()(a.state.taskItems[e],{$merge:{before:n}});return{taskItems:f()(t.taskItems,{$splice:[[e,1,i]]})}}))}},{key:"handleAfterChange",value:function(e,t){var a=this,n=t.target.value;this.setState((function(t){var i=f()(a.state.taskItems[e],{$merge:{after:n}});return{taskItems:f()(t.taskItems,{$splice:[[e,1,i]]})}}))}},{key:"handleReset",value:function(){this.setState((function(e){var t={before:"",after:"",taskNum:e.taskItems.length};return{taskItems:f()(e.taskItems,{$splice:[[0,0,t]]})}}))}},{key:"checkNotificationPermission",value:function(){"granted"!==window.Notification.permission&&window.Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Tomato Tasker notifications are on!")}))}}]),t}(i.a.Component);s.a.render(i.a.createElement(p,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.10cf4173.chunk.js.map